# Kongì˜ ë ˆí”Œë¦¬ì¹´ ìˆ˜ë¥¼ 2ê°œë¡œ ì„¤ì •í•˜ì—¬ ê³ ê°€ìš©ì„±ì„ ë³´ì¥
replicaCount: 2

# **ğŸ“Œ PostgreSQL ì œê±°**
postgresql:
  enabled: false  # PostgreSQL ì„¤ì¹˜í•˜ì§€ ì•Šë„ë¡ ë³€ê²½

# DBless ëª¨ë“œ(type: "off")ë¡œ ì‹¤í–‰í•˜ì—¬ ì„¤ì •ì„ ConfigMap ë˜ëŠ” í™˜ê²½ ë³€ìˆ˜ì—ì„œ ë¡œë“œ.
# DBless ëª¨ë“œë¥¼ ì‚¬ìš©ì´ìœ 
# Kongì˜ ì„¤ì •ì„ íŒŒì¼(kong.yml) ê¸°ë°˜ìœ¼ë¡œ ê´€ë¦¬.
# PostgreSQLì´ í•„ìš” ì—†ìœ¼ë¯€ë¡œ ìš´ì˜ ë¹„ìš© ì ˆê° ë° ì„±ëŠ¥ ìµœì í™”.
database:
  enabled: false 
  type: "off"

# Kong ì„œë¹„ìŠ¤ ì„¤ì •
# HTTP(80) ë° HTTPS(443) í¬íŠ¸ í™œì„±í™”í•˜ì—¬ API ìš”ì²­ì„ ì²˜ë¦¬.
# ë‚´ë¶€ ì»¨í…Œì´ë„ˆì—ì„œëŠ” 8000 (HTTP), 8443 (HTTPS) í¬íŠ¸ë¥¼ ì‚¬ìš©.
proxy:
  type: ClusterIP
  http:
    enabled: true
    servicePort: 80
    containerPort: 8000
  https:
    enabled: true
    servicePort: 443
    containerPort: 8443

# Admin APIë¥¼ ë¹„í™œì„±í™”í•˜ì—¬ ë³´ì•ˆ ê°•í™”. (DBless ëª¨ë“œë¼ ì„¤ì •ì•ˆí•¨)
admin:
  enabled: false

# Kong í™˜ê²½ ë³€ìˆ˜ (DB ì—†ì´ ì‹¤í–‰) / kong.ymlì—ì„œ API ì„¤ì •ì„ ë¡œë“œ.
extraEnvVars:
  - name: KONG_DATABASE
    value: "off"  # DB ì—†ì´ ì‹¤í–‰
  - name: KONG_DECLARATIVE_CONFIG
    value: "/opt/kong/kong.yml"  # kong.ymlì—ì„œ API ì„¤ì •ì„ ë¡œë“œ.
  - name: KONG_SSL_CERT
    value: "/etc/kong/ssl/tls.crt"  # Secretì„ í†µí•œ ê¸°ì¡´ ì¸ì¦ì„œ ì ìš©
  - name: KONG_SSL_CERT_KEY
    value: "/etc/kong/ssl/tls.key"  # Secretì„ í†µí•œ ê¸°ì¡´ í‚¤ ì ìš©  

# Kong Ingress ì„¤ì •
ingressController:
  enabled: true
  installCRDs: false
  ingressClassName: "nginx" #Kongì„ Ingressë¡œ ë°°í¬í•˜ê³ , nginx Ingress Controllerë¥¼ ì‚¬ìš©.
  admin:
    enabled: false
  proxy:
    enabled: true
    annotations:
      nginx.ingress.kubernetes.io/rewrite-target: "/"
    tls:
      enabled: true
      secretName: kong-tls #HTTPS ì ìš©(Let's Encrypt TLS ì¸ì¦ì„œ)
    hosts:
      - api.sol-wms.store #ë„ë©”ì¸ìœ¼ë¡œ API íŠ¸ë˜í”½ì„ ìˆ˜ì‹ .

# Kafka ì—°ë™ ì„¤ì • (JWT ì¸ì¦ ì´ë²¤íŠ¸ ì²˜ë¦¬)
kafka:
  enabled: true
  #Kafka í´ëŸ¬ìŠ¤í„°ì˜ ë¸Œë¡œì»¤ ì£¼ì†Œë¥¼ ì§€ì •.
  bootstrapServers: "my-cluster-kafka-0.kafka.svc.cluster.local:9092,my-cluster-kafka-1.kafka.svc.cluster.local:9092"
  topic: "kong_jwt_events" #JWT ì¸ì¦ ê´€ë ¨ ì´ë²¤íŠ¸ë¥¼ kong_jwt_events í† í”½ìœ¼ë¡œ ì „ì†¡.
  securityProtocol: "PLAINTEXT" #TLS ë¯¸ì ìš© (ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì‚¬ìš© ì‹œ).

